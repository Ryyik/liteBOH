import{r as s,d as i,w as t,c as a,f as e,h as l,n as c,t as o,F as n,k as v,i as d,T as r,u as p,s as u,o as b,g as m,m as g}from"./vue-vendor-DXCnN0d2.js";import{_ as h}from"./ui-components-g-7AJD2c.js";const k={class:"points-page"},y={class:"tabs-header"},f={key:0,class:"tab-content"},w={class:"points-overview-card"},C={class:"points-total"},_={class:"points-value"},F={class:"points-history-card"},x={key:0,class:"points-list"},j={class:"points-item-left"},I={class:"points-item-title"},$={class:"points-item-date"},P={class:"points-item-right"},T={key:1,class:"no-history"},q={key:1,class:"tab-content"},z={class:"subscriptions-overview"},A={class:"overview-item"},B={class:"overview-value"},D={class:"overview-item"},E={class:"overview-value"},G={class:"subscriptions-card"},H={class:"subscription-list"},J={class:"subscription-item-content"},K={class:"subscription-item-title"},L={class:"subscription-item-description"},M={class:"subscription-item-right"},N={class:"subscriptions-card"},O={class:"subscription-list"},Q={key:0},R={class:"subscription-item-content"},S={class:"subscription-item-title"},U={class:"subscription-item-description"},V={class:"subscription-item-right"},W=["onClick"],X={key:1,class:"no-history"},Y={class:"glass-modal-message"},Z=h({__name:"Points",setup(h){const Z=p(),ss=u(),is=s("points"),ts=s(!1),as=s(""),es=()=>{ts.value=!1},ls=()=>{Z.path.includes("subscriptions")?is.value="subscriptions":is.value="points"};i(()=>{ls()}),t(()=>Z.path,()=>{ls()});const cs=s=>{is.value=s,"points"===s?ss.push("/user-center/points"):ss.push("/user-center/subscriptions")},os=s([]),ns=s(0),vs=s([{id:1,title:"方块之家生日会",description:"生日当天获得专属祝福和神秘礼物",tag:"Free"},{id:2,title:"方块之家礼物抽奖",description:"定期参与抽奖活动，赢取精美周边",tag:"Free"}]),ds=s([{id:101,title:"礼物定制",description:"不受限制的给出礼物定制的提示词，礼物最终不一定完全一致，但会尽量符合。",tag:"积分30"}]);return(s,i)=>(b(),a("div",k,[e("div",y,[e("div",{class:c(["tab-item",{active:"points"===is.value}]),onClick:i[0]||(i[0]=s=>cs("points"))}," 积分明细 ",2),e("div",{class:c(["tab-item",{active:"subscriptions"===is.value}]),onClick:i[1]||(i[1]=s=>cs("subscriptions"))}," 订阅管理 ",2)]),"points"===is.value?(b(),a("div",f,[e("div",w,[e("div",C,[i[3]||(i[3]=e("div",{class:"points-label"},"当前积分",-1)),e("div",_,o(ns.value),1)]),i[4]||(i[4]=e("div",{class:"points-description"}," 积分可用于兑换周边商品、参与抽奖活动等，更多积分获取方式即将上线 ",-1))]),e("div",F,[i[6]||(i[6]=e("h3",{class:"card-title"},"积分变动记录",-1)),os.value.length>0?(b(),a("div",x,[(b(!0),a(n,null,v(os.value,(s,i)=>(b(),a("div",{key:i,class:"points-item"},[e("div",j,[e("div",I,o(s.title),1),e("div",$,o(s.date),1)]),e("div",P,[e("div",{class:c(["points-item-amount","gain"===s.type?"points-gain":"points-loss"])},o("gain"===s.type?"+":"-")+o(s.amount),3)])]))),128))])):(b(),a("div",T,[...i[5]||(i[5]=[e("div",{class:"no-history-text"},"暂无积分变动记录",-1)])]))])])):(b(),a("div",q,[e("div",z,[e("div",A,[i[7]||(i[7]=e("div",{class:"overview-label"},"当前订阅",-1)),e("div",B,o(vs.value.length)+" 项",1)]),e("div",D,[i[8]||(i[8]=e("div",{class:"overview-label"},"可用订阅",-1)),e("div",E,o(ds.value.length)+" 项",1)])]),e("div",G,[i[10]||(i[10]=e("h3",{class:"card-title"},"当前订阅项目",-1)),e("div",H,[(b(!0),a(n,null,v(vs.value,s=>(b(),a("div",{key:s.id,class:"subscription-item"},[e("div",J,[e("div",K,o(s.title),1),e("div",L,o(s.description),1)]),e("div",M,[e("div",{class:c(["subscription-item-tag",{"tag-free":"Free"===s.tag}])},o(s.tag),3),i[9]||(i[9]=e("div",{class:"subscribe-btn-placeholder"},null,-1))])]))),128))])]),e("div",N,[i[12]||(i[12]=e("h3",{class:"card-title"},"可用订阅项目",-1)),e("div",O,[ds.value.length>0?(b(),a("div",Q,[(b(!0),a(n,null,v(ds.value,s=>(b(),a("div",{key:s.id,class:"subscription-item"},[e("div",R,[e("div",S,o(s.title),1),e("div",U,o(s.description),1)]),e("div",V,[e("div",{class:c(["subscription-item-tag",{"tag-free":"Free"===s.tag}])},o(s.tag),3),e("button",{class:"subscribe-btn",onClick:i=>(s=>{const i=s.tag.match(/\d+/),t=i?parseInt(i[0]):0;ns.value<t?(as.value=`订阅“${s.title}”需要 ${t} 积分。`,ts.value=!0):alert("积分充足，订阅成功！（此处为演示逻辑）")})(s)},"立即订阅",8,W)])]))),128))])):(b(),a("div",X,[...i[11]||(i[11]=[e("div",{class:"no-history-text"},"暂无可用的订阅项目",-1)])]))])])])),l(r,{name:"glass-fade"},{default:d(()=>[ts.value?(b(),a("div",{key:0,class:"glass-modal-overlay",onClick:es},[e("div",{class:"glass-modal-content",onClick:i[2]||(i[2]=g(()=>{},["stop"]))},[i[13]||(i[13]=e("h3",{class:"glass-modal-title"},"积分不足",-1)),e("p",Y,o(as.value),1),e("button",{class:"glass-modal-btn",onClick:es},"知道了")])])):m("",!0)]),_:1})]))}},[["__scopeId","data-v-9bcbba3f"]]);export{Z as default};
