import{b as e,u as s,c as a,o as t,h as n,i as l,f as o,n as r,j as c,r as i,w as u,d as v,e as d,g as p,t as m,B as g,s as f}from"./vue-vendor-DXCnN0d2.js";import{_ as w,U as k}from"./ui-components-g-7AJD2c.js";const y={class:"user-center-nav"},b=w({__name:"UserCenterNav",setup(i){const u=s(),v=e(()=>u.path);return(e,s)=>{const i=c("router-link");return t(),a("div",y,[n(i,{to:"/user-center/info",class:r(["nav-link",{active:v.value.includes("/user-center/info")}])},{default:l(()=>[...s[0]||(s[0]=[o("div",{class:"nav-item"},"个人信息",-1)])]),_:1},8,["class"]),n(i,{to:"/user-center/address",class:r(["nav-link",{active:v.value.includes("/user-center/address")}])},{default:l(()=>[...s[1]||(s[1]=[o("div",{class:"nav-item"},"周边信息",-1)])]),_:1},8,["class"]),n(i,{to:"/user-center/messages",class:r(["nav-link",{active:v.value.includes("/user-center/messages")}])},{default:l(()=>[...s[2]||(s[2]=[o("div",{class:"nav-item"},"消息中心",-1)])]),_:1},8,["class"]),n(i,{to:"/user-center/points",class:r(["nav-link",{active:v.value.includes("/user-center/points")||v.value.includes("/user-center/subscriptions")}])},{default:l(()=>[...s[3]||(s[3]=[o("div",{class:"nav-item"},"订阅与积分",-1)])]),_:1},8,["class"])])}}},[["__scopeId","data-v-f20426f2"]]),_={class:"user-center-page"},h={class:"user-center-container"},C={class:"toggle-icon"},I={class:"toggle-text"},j={class:"user-center-content"},x={key:0,class:"login-prompt"},L=w({__name:"UserCenter",setup(e){const l=s(),w=f(),y=i(!1),L=i(!1),U=()=>{L.value=!!window.AuthManager&&window.AuthManager.isLoggedIn()},A=()=>{w.push("/login")},E=()=>{y.value=!y.value,y.value?document.body.style.overflow="hidden":document.body.style.overflow=""},M=()=>{window.innerWidth<=768&&(y.value=!1,document.body.style.overflow="")};u(()=>l.path,()=>{window.innerWidth<=768&&(y.value=!1,document.body.style.overflow="")});const W=()=>{U()};let B=null;return v(()=>{U(),window.addEventListener("storage",W),B=setInterval(U,200)}),d(()=>{window.removeEventListener("storage",W),B&&clearInterval(B)}),(e,s)=>{const l=c("router-view");return t(),a("div",_,[n(k),o("main",h,[L.value?(t(),a("button",{key:0,class:r(["mobile-sidebar-toggle",{active:y.value}]),onClick:E},[o("span",C,m(y.value?"✕":"☰"),1),o("span",I,m(y.value?"关闭菜单":"个人中心菜单"),1)],2)):p("",!0),L.value?(t(),a("aside",{key:1,class:r(["user-center-sidebar",{"is-open":y.value}])},[n(b,{onClick:M})],2)):p("",!0),L.value&&y.value?(t(),a("div",{key:2,class:"sidebar-overlay",onClick:E})):p("",!0),o("section",j,[L.value?(t(),g(l,{key:1})):(t(),a("div",x,[o("div",{class:"login-prompt-content"},[s[0]||(s[0]=o("h2",{class:"login-prompt-title"},"请先登录",-1)),s[1]||(s[1]=o("p",{class:"login-prompt-text"},"您需要登录后才能访问个人中心",-1)),o("button",{class:"login-prompt-button",onClick:A},"立即登录")])]))])])])}}},[["__scopeId","data-v-f85f68c5"]]);export{L as default};
